<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Snow Rider 3D | Ultra Fixed</title>
    
    <style>
        :root { background: #000; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: #000; }
        #gameContainer { width: 100vw; height: 100vh; }

        /* Force hide anything that gets stuck */
        .template-particle, .loading-out { display: none !important; pointer-events: none !important; }
    </style>

    <script src="https://cdn.jsdelivr.net/gh/drippy-cat/snowrider3D@c82fe583cbffafa502b0aa3ed2da0053972e0c80/TemplateData/UnityProgress.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/drippy-cat/snowrider3D@c82fe583cbffafa502b0aa3ed2da0053972e0c80/Build/UnityLoader.js"></script>
</head>
<body>

    <div id="gameContainer"></div>

    <script>
        // 1. Force cleanup of the Unity Progress UI
        function removeLoader() {
            const loader = document.querySelector('.webgl-logo, .progress, .spinner');
            if (loader) loader.style.display = 'none';
            
            // Specifically target the "100" text if it's stuck in a div
            const divs = document.getElementsByTagName('div');
            for (let i = 0; i < divs.length; i++) {
                if (divs[i].innerText === "100" || divs[i].className.includes("progress")) {
                    divs[i].style.display = 'none';
                }
            }
        }

        const gameInstance = UnityLoader.instantiate("gameContainer", "https://cdn.jsdelivr.net/gh/drippy-cat/snowrider3D@c82fe583cbffafa502b0aa3ed2da0053972e0c80/Build/SnowRider3D-gd-1.json", {
            onProgress: (instance, progress) => {
                UnityProgress(instance, progress);
                if (progress === 1) {
                    setTimeout(removeLoader, 500); // Delayed cleanup
                }
            },
            Module: {
                onRuntimeInitialized: () => {
                    removeLoader(); // Final cleanup
                    window.focus();
                }
            }
        });

        // 2. Prevent scroll keys from moving the page
        window.addEventListener('keydown', (e) => {
            if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," "].includes(e.code)) {
                e.preventDefault();
            }
        });
    </script>
</body>
</html>
